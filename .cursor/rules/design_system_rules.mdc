# Design System Rules for n0mad_days

## 1. Token Definitions

### Colors (CSS Variables)
**Location**: `app/globals.css` (lines 12-32)

**Light Theme**:
- `--bg`: #ffffff (Основной фон)
- `--surface`: #f7f6f3 (Фон карточек)
- `--text`: #37352f (Основной текст)
- `--text-secondary`: #787774 (Вторичный текст)
- `--border`: #e9e8e6 (Границы)
- `--hover`: #f1f1ef (Ховер состояния)
- `--brand`: #2eaadc (Основной бренд)
- `--brand-hover`: #1ea7d4 (Ховер бренда)
- `--red`: #ef5350 (Ошибки/риски)
- `--green`: #4caf50 (Успех/статус)

**Dark Theme**:
- `--bg`: #1c1c1e (Основной фон)
- `--surface`: #2c2c2e (Фон карточек)
- `--text`: #ffffff (Основной текст)
- `--text-secondary`: #a0a0a0 (Вторичный текст)
- `--border`: #3a3a3c (Границы)
- `--hover`: #3a3a3c (Ховер состояния)
- `--brand`: #0a84ff (Основной бренд)
- `--brand-hover`: #30a4ff (Ховер бренда)
- `--red`: #ff453a (Ошибки/риски)
- `--green`: #30d158 (Успех/статус)

### Typography
**Font Family**: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif
**Emoji Font**: 'Apple Color Emoji', 'Segoe UI Emoji', 'Noto Color Emoji', 'Segoe UI Symbol'

### Spacing
- **Base Unit**: 4px
- **Padding**: 16px (body), 12px-20px (buttons), 16px (cards)
- **Margins**: 8px, 12px, 16px
- **Border Radius**: 12px (inputs), 16px (cards), 9999px (buttons)

## 2. Component Library

### Core Components
**Location**: `components/` directory

**Navigation & Layout**:
- `Navigation.tsx` - Нижняя навигация
- `NomadOnboarding.tsx` - Онбординг пользователя

**Data Display**:
- `MetricsBar.tsx` - Метрики и статистика
- `TripsTable.tsx` - Таблица поездок
- `FlagIcon.tsx` - Иконки флагов стран

**Forms & Inputs**:
- `CountrySelector.tsx` - Выбор страны
- `TripForm.tsx` - Форма поездки
- `RuleToggle.tsx` - Переключатели правил

**UI Components**:
- `ui/Button.tsx` - Кнопки (primary, outline, secondary)
- `AITips.tsx` - AI рекомендации

### Component Architecture
- **Props Interface**: TypeScript interfaces для всех компонентов
- **State Management**: React hooks (useState, useEffect, useMemo)
- **Styling**: CSS Variables + Tailwind CSS v4
- **Responsive**: Mobile-first подход (max-width: 480px)

## 3. Frameworks & Libraries

**Frontend**: React 18 + Next.js 15.0.0
**Styling**: Tailwind CSS v4 + CSS Variables
**Build System**: Next.js App Router
**Bundler**: Webpack (Next.js default)
**Package Manager**: pnpm

## 4. Asset Management

**Images**: `/public/` directory
- **Animations**: `/public/animations/splash_screen.json` (Lottie)
- **Icons**: SVG components + Emoji fallbacks
- **Flags**: SVG flags for specific countries (TH, RU)

**Optimization**: Next.js Image optimization
**CDN**: Vercel Edge Network

## 5. Icon System

**SVG Icons**: Custom components (FlagIcon)
**Emoji Fallbacks**: Apple Color Emoji, Noto Color Emoji
**Naming Convention**: PascalCase for components, kebab-case for files

## 6. Styling Approach

**CSS Methodology**: CSS Variables + Utility Classes
**Global Styles**: `app/globals.css`
**Component Styles**: Inline styles + CSS classes
**Responsive**: CSS Media Queries + Tailwind breakpoints
**Theme Switching**: CSS Media Query (prefers-color-scheme)

## 7. Project Structure

```
naomadday/
├── app/                    # Next.js App Router
│   ├── (webapp)/          # Web app routes
│   │   ├── dashboard/     # Главная страница
│   │   ├── planner/       # Планировщик
│   │   ├── trips/         # Поездки
│   │   ├── rules/         # Правила
│   │   ├── import/        # Импорт
│   │   └── about/         # О приложении
│   ├── api/               # API routes
│   ├── globals.css        # Глобальные стили
│   └── loading.tsx        # Сплеш экран
├── components/             # React компоненты
├── core/                   # Бизнес логика
├── lib/                    # Утилиты
└── prisma/                 # База данных
```

## 8. Design Patterns

**Mobile-First**: Все компоненты оптимизированы для мобильных устройств
**Card-Based Layout**: Основной UI строится на карточках
**Status Indicators**: Цветовая кодировка статусов (green, orange, red)
**Consistent Spacing**: Использование базовых единиц измерения
**Accessibility**: Минимальная высота 44px для интерактивных элементов

## 9. Integration Guidelines

**Figma Variables**: Создать переменные для всех CSS переменных
**Component Library**: Экспортировать компоненты как Figma Components
**Design Tokens**: Использовать CSS переменные как источник истины
**Responsive Design**: Создать фреймы для iPhone 15 Pro (393x852)
**Icon System**: SVG иконки + Emoji fallbacks
description:
globs:
alwaysApply: false
---
